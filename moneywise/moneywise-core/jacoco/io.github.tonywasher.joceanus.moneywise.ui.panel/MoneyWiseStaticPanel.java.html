<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang=""><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>MoneyWiseStaticPanel.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">MoneyWise Personal Finance - Core</a> &gt; <a href="index.source.html" class="el_package">io.github.tonywasher.joceanus.moneywise.ui.panel</a> &gt; <span class="el_source">MoneyWiseStaticPanel.java</span></div><h1>MoneyWiseStaticPanel.java</h1><pre class="source lang-java linenums">/*
 * MoneyWise: Finance Application
 * Copyright 2012-2026. Tony Washer
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;); you may not
 * use this file except in compliance with the License.  You may obtain a copy
 * of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the
 * License for the specific language governing permissions and limitations under
 * the License.
 */
package io.github.tonywasher.joceanus.moneywise.ui.panel;

import io.github.tonywasher.joceanus.oceanus.base.OceanusException;
import io.github.tonywasher.joceanus.oceanus.event.OceanusEvent;
import io.github.tonywasher.joceanus.oceanus.event.OceanusEventManager;
import io.github.tonywasher.joceanus.oceanus.event.OceanusEventRegistrar;
import io.github.tonywasher.joceanus.oceanus.event.OceanusEventRegistrar.OceanusEventProvider;
import io.github.tonywasher.joceanus.oceanus.profile.OceanusProfile;
import io.github.tonywasher.joceanus.metis.ui.MetisErrorPanel;
import io.github.tonywasher.joceanus.metis.viewer.MetisViewerEntry;
import io.github.tonywasher.joceanus.moneywise.data.statics.MoneyWiseAccountInfoType.MoneyWiseAccountInfoTypeList;
import io.github.tonywasher.joceanus.moneywise.data.statics.MoneyWiseCashCategoryType.MoneyWiseCashCategoryTypeList;
import io.github.tonywasher.joceanus.moneywise.data.statics.MoneyWiseCurrency.MoneyWiseCurrencyList;
import io.github.tonywasher.joceanus.moneywise.data.statics.MoneyWiseDepositCategoryType.MoneyWiseDepositCategoryTypeList;
import io.github.tonywasher.joceanus.moneywise.data.statics.MoneyWiseLoanCategoryType.MoneyWiseLoanCategoryTypeList;
import io.github.tonywasher.joceanus.moneywise.data.statics.MoneyWisePayeeType.MoneyWisePayeeTypeList;
import io.github.tonywasher.joceanus.moneywise.data.statics.MoneyWisePortfolioType.MoneyWisePortfolioTypeList;
import io.github.tonywasher.joceanus.moneywise.data.statics.MoneyWiseSecurityType.MoneyWiseSecurityTypeList;
import io.github.tonywasher.joceanus.moneywise.data.statics.MoneyWiseStaticDataType;
import io.github.tonywasher.joceanus.moneywise.data.statics.MoneyWiseTaxBasis.MoneyWiseTaxBasisList;
import io.github.tonywasher.joceanus.moneywise.data.statics.MoneyWiseTransCategoryType.MoneyWiseTransCategoryTypeList;
import io.github.tonywasher.joceanus.moneywise.data.statics.MoneyWiseTransInfoType.MoneyWiseTransInfoTypeList;
import io.github.tonywasher.joceanus.moneywise.ui.MoneyWiseUIResource;
import io.github.tonywasher.joceanus.moneywise.views.MoneyWiseView;
import io.github.tonywasher.joceanus.prometheus.data.PrometheusStaticDataItem;
import io.github.tonywasher.joceanus.prometheus.data.PrometheusStaticDataItem.PrometheusStaticList;
import io.github.tonywasher.joceanus.prometheus.ui.PrometheusActionButtons;
import io.github.tonywasher.joceanus.prometheus.views.PrometheusDataEvent;
import io.github.tonywasher.joceanus.prometheus.views.PrometheusEditSet;
import io.github.tonywasher.joceanus.prometheus.views.PrometheusUIEvent;
import io.github.tonywasher.joceanus.prometheus.views.PrometheusViewerEntryId;
import io.github.tonywasher.joceanus.tethys.api.base.TethysUIComponent;
import io.github.tonywasher.joceanus.tethys.api.base.TethysUIEvent;
import io.github.tonywasher.joceanus.tethys.api.base.TethysUIGenericWrapper;
import io.github.tonywasher.joceanus.tethys.api.button.TethysUIScrollButtonManager;
import io.github.tonywasher.joceanus.tethys.api.control.TethysUICheckBox;
import io.github.tonywasher.joceanus.tethys.api.control.TethysUIControlFactory;
import io.github.tonywasher.joceanus.tethys.api.control.TethysUILabel;
import io.github.tonywasher.joceanus.tethys.api.factory.TethysUIFactory;
import io.github.tonywasher.joceanus.tethys.api.menu.TethysUIScrollItem;
import io.github.tonywasher.joceanus.tethys.api.menu.TethysUIScrollMenu;
import io.github.tonywasher.joceanus.tethys.api.pane.TethysUIBorderPaneManager;
import io.github.tonywasher.joceanus.tethys.api.pane.TethysUIBoxPaneManager;
import io.github.tonywasher.joceanus.tethys.api.pane.TethysUICardPaneManager;
import io.github.tonywasher.joceanus.tethys.api.pane.TethysUIPaneFactory;

import java.util.ArrayList;
import java.util.List;

/**
 * MoneyWise Static Panel.
 */
public class MoneyWiseStaticPanel
        implements OceanusEventProvider&lt;PrometheusDataEvent&gt;, TethysUIComponent {
    /**
     * The view.
     */
    private final MoneyWiseView theView;

    /**
     * The Event Manager.
     */
    private final OceanusEventManager&lt;PrometheusDataEvent&gt; theEventManager;

    /**
     * The UpdateSet associated with the panel.
     */
    private final PrometheusEditSet theEditSet;

    /**
     * The ViewerEntry.
     */
    private final MetisViewerEntry theViewerEntry;

    /**
     * The Panel.
     */
    private final TethysUIBorderPaneManager thePanel;

    /**
     * The error panel.
     */
    private final MetisErrorPanel theError;

    /**
     * The action buttons panel.
     */
    private final PrometheusActionButtons theActionButtons;

    /**
     * The disabled check box.
     */
    private final TethysUICheckBox theDisabledCheckBox;

    /**
     * The Selection Panel.
     */
    private final TethysUIBorderPaneManager theSelectionPanel;

    /**
     * The select button.
     */
    private final TethysUIScrollButtonManager&lt;TethysUIGenericWrapper&gt; theSelectButton;

    /**
     * Data menu builder.
     */
    private final TethysUIScrollMenu&lt;TethysUIGenericWrapper&gt; theDataMenu;

    /**
     * The table card panel.
     */
    private final TethysUICardPaneManager&lt;MoneyWiseStaticTable&lt;?, ?&gt;&gt; theTableCard;

    /**
     * The new card panel.
     */
    private final TethysUICardPaneManager&lt;TethysUIScrollButtonManager&lt;?&gt;&gt; theNewCard;

    /**
     * The list of panels.
     */
    private final List&lt;MoneyWiseStaticTable&lt;?, ?&gt;&gt; thePanels;

    /**
     * Constructor.
     *
     * @param pView the view
     */
<span class="nc" id="L146">    MoneyWiseStaticPanel(final MoneyWiseView pView) {</span>
        /* Store parameters */
<span class="nc" id="L148">        theView = pView;</span>

        /* Create the event manager */
<span class="nc" id="L151">        theEventManager = new OceanusEventManager&lt;&gt;();</span>

        /* Build the Update set */
<span class="nc" id="L154">        theEditSet = new PrometheusEditSet(theView);</span>

        /* Create the top level viewer entry for this view */
<span class="nc" id="L157">        theViewerEntry = pView.getViewerEntry(PrometheusViewerEntryId.STATIC);</span>
<span class="nc" id="L158">        theViewerEntry.setTreeObject(theEditSet);</span>

        /* Create the error panel */
<span class="nc" id="L161">        theError = pView.getToolkit().getToolkit().newErrorPanel(theViewerEntry);</span>
<span class="nc" id="L162">        theError.getEventRegistrar().addEventListener(e -&gt; handleErrorPanel());</span>

        /* Create the list of panels */
<span class="nc" id="L165">        thePanels = new ArrayList&lt;&gt;();</span>

        /* Access the Gui Factory */
<span class="nc" id="L168">        final TethysUIFactory&lt;?&gt; myGuiFactory = pView.getGuiFactory();</span>

        /* Create the action buttons panel */
<span class="nc" id="L171">        theActionButtons = new PrometheusActionButtons(myGuiFactory, theEditSet);</span>
<span class="nc" id="L172">        theActionButtons.getEventRegistrar().addEventListener(this::handleActionButtons);</span>

        /* Create the CheckBox */
<span class="nc" id="L175">        final TethysUIControlFactory myControls = myGuiFactory.controlFactory();</span>
<span class="nc" id="L176">        theDisabledCheckBox = myControls.newCheckBox(MoneyWiseUIResource.STATICDATA_DISABLED.getValue());</span>
<span class="nc" id="L177">        theDisabledCheckBox.getEventRegistrar().addEventListener(e -&gt; showDisabled(theDisabledCheckBox.isSelected()));</span>

        /* Create the select button */
<span class="nc" id="L180">        final TethysUILabel myLabel = myControls.newLabel(MoneyWiseUIResource.STATICDATA_SELECT.getValue());</span>
<span class="nc" id="L181">        theSelectButton = myGuiFactory.buttonFactory().newScrollButton(TethysUIGenericWrapper.class);</span>
<span class="nc" id="L182">        theDataMenu = theSelectButton.getMenu();</span>
<span class="nc" id="L183">        theSelectButton.setMenuConfigurator(e -&gt; buildDataMenu());</span>
<span class="nc" id="L184">        final OceanusEventRegistrar&lt;TethysUIEvent&gt; myRegistrar = theSelectButton.getEventRegistrar();</span>
<span class="nc" id="L185">        myRegistrar.addEventListener(TethysUIEvent.NEWVALUE, e -&gt; handlePanelSelection());</span>

        /* Create the selection panel */
<span class="nc" id="L188">        final TethysUIPaneFactory myPanes = myGuiFactory.paneFactory();</span>
<span class="nc" id="L189">        theSelectionPanel = myPanes.newBorderPane();</span>
<span class="nc" id="L190">        theSelectionPanel.setBorderTitle(MoneyWiseUIResource.STATICDATA_SELECTION.getValue());</span>

        /* Create the new card panel */
<span class="nc" id="L193">        theNewCard = myPanes.newCardPane();</span>
<span class="nc" id="L194">        theNewCard.setVisible(false);</span>

        /* Create the layout for the selection panel */
<span class="nc" id="L197">        final TethysUIBoxPaneManager mySubPanel = myPanes.newHBoxPane();</span>
<span class="nc" id="L198">        mySubPanel.addNode(myLabel);</span>
<span class="nc" id="L199">        mySubPanel.addNode(theSelectButton);</span>
<span class="nc" id="L200">        mySubPanel.addSpacer();</span>
<span class="nc" id="L201">        mySubPanel.addNode(theDisabledCheckBox);</span>
<span class="nc" id="L202">        mySubPanel.addSpacer();</span>
<span class="nc" id="L203">        theSelectionPanel.setCentre(mySubPanel);</span>
<span class="nc" id="L204">        theSelectionPanel.setEast(theNewCard);</span>

        /* Create the header panel */
<span class="nc" id="L207">        final TethysUIBorderPaneManager myHeader = myPanes.newBorderPane();</span>
<span class="nc" id="L208">        myHeader.setCentre(theSelectionPanel);</span>
<span class="nc" id="L209">        myHeader.setNorth(theError);</span>
<span class="nc" id="L210">        myHeader.setEast(theActionButtons);</span>

        /* Create the table card panel */
<span class="nc" id="L213">        theTableCard = myPanes.newCardPane();</span>

        /* Create the Panel */
<span class="nc" id="L216">        thePanel = myPanes.newBorderPane();</span>

        /* Now define the panel */
<span class="nc" id="L219">        thePanel.setNorth(myHeader);</span>
<span class="nc" id="L220">        thePanel.setCentre(theTableCard);</span>

        /* Hide the action buttons initially */
<span class="nc" id="L223">        theActionButtons.setVisible(false);</span>

        /* Add the static data */
<span class="nc" id="L226">        addStatic(MoneyWiseStaticDataType.DEPOSITTYPE, MoneyWiseDepositCategoryTypeList.class);</span>
<span class="nc" id="L227">        addStatic(MoneyWiseStaticDataType.CASHTYPE, MoneyWiseCashCategoryTypeList.class);</span>
<span class="nc" id="L228">        addStatic(MoneyWiseStaticDataType.LOANTYPE, MoneyWiseLoanCategoryTypeList.class);</span>
<span class="nc" id="L229">        addStatic(MoneyWiseStaticDataType.PAYEETYPE, MoneyWisePayeeTypeList.class);</span>
<span class="nc" id="L230">        addStatic(MoneyWiseStaticDataType.PORTFOLIOTYPE, MoneyWisePortfolioTypeList.class);</span>
<span class="nc" id="L231">        addStatic(MoneyWiseStaticDataType.SECURITYTYPE, MoneyWiseSecurityTypeList.class);</span>
<span class="nc" id="L232">        addStatic(MoneyWiseStaticDataType.TRANSTYPE, MoneyWiseTransCategoryTypeList.class);</span>
<span class="nc" id="L233">        addStatic(MoneyWiseStaticDataType.CURRENCY, MoneyWiseCurrencyList.class);</span>
<span class="nc" id="L234">        addStatic(MoneyWiseStaticDataType.TAXBASIS, MoneyWiseTaxBasisList.class);</span>
<span class="nc" id="L235">        addStatic(MoneyWiseStaticDataType.ACCOUNTINFOTYPE, MoneyWiseAccountInfoTypeList.class);</span>
<span class="nc" id="L236">        addStatic(MoneyWiseStaticDataType.TRANSINFOTYPE, MoneyWiseTransInfoTypeList.class);</span>
<span class="nc" id="L237">    }</span>

    @Override
    public TethysUIComponent getUnderlying() {
<span class="nc" id="L241">        return thePanel;</span>
    }

    @Override
    public OceanusEventRegistrar&lt;PrometheusDataEvent&gt; getEventRegistrar() {
<span class="nc" id="L246">        return theEventManager.getEventRegistrar();</span>
    }

    /**
     * Has this set of tables got updates?
     *
     * @return true/false
     */
    public boolean hasUpdates() {
        /* Return to caller */
<span class="nc" id="L256">        return theEditSet.hasUpdates();</span>
    }

    /**
     * Has this set of panels got the session focus?
     *
     * @return true/false
     */
    public boolean hasSession() {
        /* Return to caller */
<span class="nc bnc" id="L266" title="All 4 branches missed.">        return hasUpdates() || isEditing();</span>
    }

    /**
     * Has this set of tables got errors?
     *
     * @return true/false
     */
    public boolean hasErrors() {
        /* Return to caller */
<span class="nc" id="L276">        return theEditSet.hasErrors();</span>
    }

    /**
     * Refresh views/controls after a load/update of underlying data.
     *
     * @throws OceanusException on error
     */
    public void refreshData() throws OceanusException {
        /* Obtain the active profile */
<span class="nc" id="L286">        OceanusProfile myTask = theView.getActiveTask();</span>
<span class="nc" id="L287">        myTask = myTask.startTask(&quot;StaticData&quot;);</span>
<span class="nc" id="L288">        theEditSet.setDataSet(theView.getData());</span>

        /* Loop through the panels */
<span class="nc bnc" id="L291" title="All 2 branches missed.">        for (MoneyWiseStaticTable&lt;?, ?&gt; myPanel : thePanels) {</span>
            /* Note the stage */
<span class="nc" id="L293">            myTask.startTask(myPanel.getItemType().getItemName());</span>

            /* Refresh the panel */
<span class="nc" id="L296">            myPanel.refreshData();</span>
<span class="nc" id="L297">        }</span>

        /* Touch the updateSet */
<span class="nc" id="L300">        theViewerEntry.setTreeObject(theEditSet);</span>

        /* Complete the task */
<span class="nc" id="L303">        myTask.end();</span>
<span class="nc" id="L304">    }</span>

    /**
     * Build StaticData menu.
     */
    private void buildDataMenu() {
        /* Cancel any editing */
<span class="nc" id="L311">        cancelEditing();</span>

        /* Reset the popUp menu */
<span class="nc" id="L314">        theDataMenu.removeAllItems();</span>

        /* Record active item */
<span class="nc" id="L317">        TethysUIScrollItem&lt;TethysUIGenericWrapper&gt; myActive = null;</span>
<span class="nc" id="L318">        final String myActiveName = theTableCard.getActiveName();</span>

        /* Loop through the panels */
<span class="nc bnc" id="L321" title="All 2 branches missed.">        for (MoneyWiseStaticTable&lt;?, ?&gt; myTable : thePanels) {</span>
            /* Create a new MenuItem and add it to the popUp */
<span class="nc" id="L323">            final String myName = myTable.getItemType().getItemName();</span>
<span class="nc" id="L324">            final TethysUIScrollItem&lt;TethysUIGenericWrapper&gt; myItem = theDataMenu.addItem(new TethysUIGenericWrapper(myTable), myName);</span>

            /* If this is the active panel */
<span class="nc bnc" id="L327" title="All 2 branches missed.">            if (myName.equals(myActiveName)) {</span>
                /* Record it */
<span class="nc" id="L329">                myActive = myItem;</span>
            }
<span class="nc" id="L331">        }</span>

        /* Ensure active item is visible */
<span class="nc bnc" id="L334" title="All 2 branches missed.">        if (myActive != null) {</span>
<span class="nc" id="L335">            myActive.scrollToItem();</span>
        }
<span class="nc" id="L337">    }</span>

    /**
     * Add static panel.
     *
     * @param pItemType  the type of the list
     * @param pListClass the class of the list
     * @param &lt;L&gt;        the list type
     * @param &lt;T&gt;        the data type
     */
    private &lt;L extends PrometheusStaticList&lt;T&gt;, T extends PrometheusStaticDataItem&gt; void addStatic(final MoneyWiseStaticDataType pItemType,
                                                                                                   final Class&lt;L&gt; pListClass) {
        /* Create the new panel */
<span class="nc" id="L350">        final MoneyWiseStaticTable&lt;L, T&gt; myPanel = new MoneyWiseStaticTable&lt;&gt;(theView, theEditSet, theError, pItemType, pListClass);</span>

        /* Add the listener for the panel */
<span class="nc" id="L353">        myPanel.getEventRegistrar().addEventListener(e -&gt; setVisibility());</span>

        /* Access list name */
<span class="nc" id="L356">        final String myName = pItemType.getListName();</span>

        /* Add to the card panels */
<span class="nc" id="L359">        theTableCard.addCard(myName, myPanel);</span>
<span class="nc" id="L360">        theNewCard.addCard(myName, myPanel.getNewButton());</span>

        /* Make sure that the active set is displayed */
<span class="nc" id="L363">        theSelectButton.setValue(new TethysUIGenericWrapper(theTableCard.getActiveCard()), theTableCard.getActiveName());</span>

        /* Add to the List */
<span class="nc" id="L366">        thePanels.add(myPanel);</span>
<span class="nc" id="L367">    }</span>

    /**
     * Select static data.
     *
     * @param pStatic the static data to select
     */
    public void selectStatic(final PrometheusStaticDataItem pStatic) {
        /* Access the item type */
<span class="nc" id="L376">        final MoneyWiseStaticDataType myType = (MoneyWiseStaticDataType) pStatic.getItemType();</span>
<span class="nc" id="L377">        final String myName = myType.getFieldName();</span>

        /* Access the panel */
<span class="nc bnc" id="L380" title="All 2 branches missed.">        if (theTableCard.selectCard(myName)) {</span>
            /* Update selection */
<span class="nc" id="L382">            final MoneyWiseStaticTable&lt;?, ?&gt; myPanel = theTableCard.getActiveCard();</span>
<span class="nc" id="L383">            theSelectButton.setValue(new TethysUIGenericWrapper(myPanel), myName);</span>
<span class="nc" id="L384">            myPanel.selectStatic(pStatic);</span>
<span class="nc" id="L385">            setSelection(myName);</span>
        }
<span class="nc" id="L387">    }</span>

    /**
     * Set Selection.
     *
     * @param pName the name that is selected
     */
    private void setSelection(final String pName) {
        /* Select the correct static */
<span class="nc" id="L396">        theTableCard.selectCard(pName);</span>
<span class="nc" id="L397">        theNewCard.selectCard(pName);</span>
<span class="nc" id="L398">        determineFocus();</span>
<span class="nc" id="L399">    }</span>

    /**
     * Determine Focus.
     */
    public void determineFocus() {
        /* Request the focus */
<span class="nc" id="L406">        final MoneyWiseStaticTable&lt;?, ?&gt; myPanel = theTableCard.getActiveCard();</span>
<span class="nc bnc" id="L407" title="All 2 branches missed.">        if (myPanel != null) {</span>
<span class="nc" id="L408">            myPanel.determineFocus(theViewerEntry);</span>
        }
<span class="nc" id="L410">    }</span>

    /**
     * Show New button.
     */
    private void showNewButton() {
        /* Set visibility of New Button */
<span class="nc" id="L417">        final MoneyWiseStaticTable&lt;?, ?&gt; myPanel = (MoneyWiseStaticTable&lt;?, ?&gt;) theSelectButton.getValue().getData();</span>
<span class="nc bnc" id="L418" title="All 2 branches missed.">        final boolean showNew = myPanel != null</span>
<span class="nc bnc" id="L419" title="All 2 branches missed.">                &amp;&amp; !myPanel.isFull();</span>
<span class="nc" id="L420">        theNewCard.setVisible(showNew);</span>
<span class="nc" id="L421">    }</span>

    /**
     * Set Visibility.
     */
    protected void setVisibility() {
        /* Determine whether we have updates */
<span class="nc" id="L428">        final boolean hasUpdates = hasUpdates();</span>

        /* Update the action buttons */
<span class="nc" id="L431">        theActionButtons.setEnabled(true);</span>
<span class="nc" id="L432">        theActionButtons.setVisible(hasUpdates);</span>

        /* Set visibility of New Button */
<span class="nc" id="L435">        showNewButton();</span>

        /* Alert listeners that there has been a change */
<span class="nc" id="L438">        theEventManager.fireEvent(PrometheusDataEvent.ADJUSTVISIBILITY);</span>
<span class="nc" id="L439">    }</span>

    /**
     * Handle error panel.
     */
    private void handleErrorPanel() {
        /* Determine whether we have an error */
<span class="nc" id="L446">        final boolean isError = theError.hasError();</span>

        /* Hide selection panel on error */
<span class="nc bnc" id="L449" title="All 2 branches missed.">        theSelectionPanel.setVisible(!isError);</span>

        /* Lock scroll-able area */
<span class="nc bnc" id="L452" title="All 2 branches missed.">        theTableCard.setEnabled(!isError);</span>

        /* Lock Action Buttons */
<span class="nc bnc" id="L455" title="All 2 branches missed.">        theActionButtons.setEnabled(!isError);</span>
<span class="nc" id="L456">    }</span>

    /**
     * Handle action buttons.
     *
     * @param pEvent the event
     */
    private void handleActionButtons(final OceanusEvent&lt;PrometheusUIEvent&gt; pEvent) {
        /* Cancel Editing */
<span class="nc" id="L465">        cancelEditing();</span>

        /* Process the command */
<span class="nc" id="L468">        theEditSet.processCommand(pEvent.getEventId(), theError);</span>

        /* Adjust visibility */
<span class="nc" id="L471">        setVisibility();</span>
<span class="nc" id="L472">    }</span>

    /**
     * Handle panel selection.
     */
    private void handlePanelSelection() {
<span class="nc" id="L478">        final MoneyWiseStaticTable&lt;?, ?&gt; myPanel = (MoneyWiseStaticTable&lt;?, ?&gt;) theSelectButton.getValue().getData();</span>
<span class="nc" id="L479">        final String myName = myPanel.getItemType().getListName();</span>
<span class="nc" id="L480">        theTableCard.selectCard(myName);</span>
<span class="nc" id="L481">        theNewCard.selectCard(myName);</span>
<span class="nc" id="L482">        myPanel.determineFocus(theViewerEntry);</span>
<span class="nc" id="L483">        showNewButton();</span>
<span class="nc" id="L484">    }</span>

    /**
     * Show disabled.
     *
     * @param pShow true/false
     */
    public void showDisabled(final boolean pShow) {
        /* Loop through the panels */
<span class="nc bnc" id="L493" title="All 2 branches missed.">        for (MoneyWiseStaticTable&lt;?, ?&gt; myPanel : thePanels) {</span>
<span class="nc" id="L494">            myPanel.setShowAll(pShow);</span>
<span class="nc" id="L495">        }</span>
<span class="nc" id="L496">    }</span>

    /**
     * Cancel Editing of underlying tables.
     */
    private void cancelEditing() {
        /* Loop through the panels */
<span class="nc bnc" id="L503" title="All 2 branches missed.">        for (MoneyWiseStaticTable&lt;?, ?&gt; myPanel : thePanels) {</span>
<span class="nc" id="L504">            myPanel.cancelEditing();</span>
<span class="nc" id="L505">        }</span>
<span class="nc" id="L506">    }</span>

    /**
     * is the current table editing?
     *
     * @return true/false
     */
    private boolean isEditing() {
<span class="nc" id="L514">        final MoneyWiseStaticTable&lt;?, ?&gt; myPanel = (MoneyWiseStaticTable&lt;?, ?&gt;) theSelectButton.getValue().getData();</span>
<span class="nc" id="L515">        return myPanel.isEditing();</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.14.202510111229</span></div></body></html>