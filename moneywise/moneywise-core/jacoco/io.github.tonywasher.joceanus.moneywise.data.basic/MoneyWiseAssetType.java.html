<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang=""><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>MoneyWiseAssetType.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">MoneyWise Personal Finance - Core</a> &gt; <a href="index.source.html" class="el_package">io.github.tonywasher.joceanus.moneywise.data.basic</a> &gt; <span class="el_source">MoneyWiseAssetType.java</span></div><h1>MoneyWiseAssetType.java</h1><pre class="source lang-java linenums">/*
 * MoneyWise: Finance Application
 * Copyright 2012-2026. Tony Washer
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;); you may not
 * use this file except in compliance with the License.  You may obtain a copy
 * of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the
 * License for the specific language governing permissions and limitations under
 * the License.
 */
package io.github.tonywasher.joceanus.moneywise.data.basic;

import io.github.tonywasher.joceanus.oceanus.base.OceanusException;
import io.github.tonywasher.joceanus.moneywise.exc.MoneyWiseDataException;

/**
 * Enumeration of Asset Types.
 */
<span class="fc" id="L25">public enum MoneyWiseAssetType {</span>
    /**
     * Deposit.
     */
<span class="fc" id="L29">    DEPOSIT(1),</span>

    /**
     * Cash.
     */
<span class="fc" id="L34">    CASH(2),</span>

    /**
     * AutoExpense.
     */
<span class="fc" id="L39">    AUTOEXPENSE(3),</span>

    /**
     * Portfolio.
     */
<span class="fc" id="L44">    PORTFOLIO(4),</span>

    /**
     * Loan.
     */
<span class="fc" id="L49">    LOAN(5),</span>

    /**
     * Security.
     */
<span class="fc" id="L54">    SECURITY(6),</span>

    /**
     * Payee.
     */
<span class="fc" id="L59">    PAYEE(7),</span>

    /**
     * SecurityHolding.
     */
<span class="fc" id="L64">    SECURITYHOLDING(8),</span>

    /**
     * PortfolioCash.
     */
<span class="fc" id="L69">    PORTFOLIOCASH(9),</span>

    /**
     * TransactionCategory.
     */
<span class="fc" id="L74">    TRANSACTIONCATEGORY(10),</span>

    /**
     * TaxBasis.
     */
<span class="fc" id="L79">    TAXBASIS(11),</span>

    /**
     * TaxBasisAccount.
     */
<span class="fc" id="L84">    TAXBASISACCOUNT(12);</span>

    /**
     * The asset shift for external Ids.
     */
    public static final int ASSETSHIFT = 60;

    /**
     * The asset shift for alternate external Ids.
     */
    public static final int ALTERNATESHIFT = 56;

    /**
     * The asset mask for external Ids.
     */
    public static final int ASSETMASK = 0xF0000000;

    /**
     * The alternate mask for external Ids.
     */
    public static final long ALTERNATEMASK = 0xFF00000000000000L;

    /**
     * The String name.
     */
    private String theName;

    /**
     * Class Id.
     */
    private final int theId;

    /**
     * Constructor.
     *
     * @param uId the Id
     */
<span class="fc" id="L121">    MoneyWiseAssetType(final int uId) {</span>
<span class="fc" id="L122">        theId = uId;</span>
<span class="fc" id="L123">    }</span>

    /**
     * Obtain class Id.
     *
     * @return the Id
     */
    public int getId() {
<span class="fc" id="L131">        return theId;</span>
    }

    /**
     * Obtain the external id.
     *
     * @param pType   the asset type
     * @param pBaseId the id
     * @return the external id
     */
    public static long createExternalId(final MoneyWiseAssetType pType,
                                        final long pBaseId) {
<span class="fc" id="L143">        return pBaseId</span>
<span class="fc" id="L144">                + (((long) pType.getId()) &lt;&lt; ASSETSHIFT);</span>
    }

    /**
     * Obtain the external id.
     *
     * @param pType    the asset type
     * @param pMajorId the major id
     * @param pBaseId  the id
     * @return the external id
     */
    public static long createExternalId(final MoneyWiseAssetType pType,
                                        final int pMajorId,
                                        final int pBaseId) {
<span class="fc" id="L158">        final long myBase = pBaseId;</span>
<span class="fc" id="L159">        final long myMajor = ((long) pMajorId) &lt;&lt; Integer.SIZE;</span>
<span class="fc" id="L160">        final long myAsset = ((long) pType.getId()) &lt;&lt; ASSETSHIFT;</span>
<span class="fc" id="L161">        return myAsset + myMajor + myBase;</span>
    }

    /**
     * Obtain the alternate external id.
     *
     * @param pType       the asset type
     * @param pExternalId the id
     * @return the external id
     */
    public static long createAlternateExternalId(final MoneyWiseAssetType pType,
                                                 final long pExternalId) {
<span class="fc" id="L173">        final long myOldType = pExternalId &gt;&gt;&gt; ASSETSHIFT;</span>
<span class="fc" id="L174">        final long myBase = pExternalId &amp; ~ALTERNATEMASK;</span>
<span class="fc" id="L175">        final long myMajor = myOldType &lt;&lt; ALTERNATESHIFT;</span>
<span class="fc" id="L176">        final long myAsset = ((long) pType.getId()) &lt;&lt; ASSETSHIFT;</span>
<span class="fc" id="L177">        return myAsset + myMajor + myBase;</span>
    }

    /**
     * Obtain the base id.
     *
     * @param pId the id
     * @return the base id
     */
    public static int getMajorId(final long pId) {
<span class="fc" id="L187">        final int myId = (int) (pId &gt;&gt;&gt; Integer.SIZE);</span>
<span class="fc" id="L188">        return myId &amp; ~ASSETMASK;</span>
    }

    /**
     * Obtain the qualifying id.
     *
     * @param pId the id
     * @return the base id
     */
    public static int getBaseId(final long pId) {
<span class="fc" id="L198">        return (int) pId;</span>
    }

    /**
     * Obtain the assetType.
     *
     * @param pId the id
     * @return the assetType
     * @throws OceanusException on error
     */
    public static MoneyWiseAssetType getAssetType(final long pId) throws OceanusException {
<span class="fc" id="L209">        final int myId = (int) (pId &gt;&gt;&gt; ASSETSHIFT);</span>
<span class="fc" id="L210">        return fromId(myId);</span>
    }

    @Override
    public String toString() {
        /* If we have not yet loaded the name */
<span class="nc bnc" id="L216" title="All 2 branches missed.">        if (theName == null) {</span>
            /* Load the name */
<span class="nc" id="L218">            theName = MoneyWiseBasicResource.getKeyForAssetType(this).getValue();</span>
        }

        /* return the name */
<span class="nc" id="L222">        return theName;</span>
    }

    /**
     * get value from id.
     *
     * @param id the id value
     * @return the corresponding enum object
     * @throws OceanusException on error
     */
    public static MoneyWiseAssetType fromId(final int id) throws OceanusException {
<span class="pc bpc" id="L233" title="1 of 2 branches missed.">        for (MoneyWiseAssetType myClass : values()) {</span>
<span class="fc bfc" id="L234" title="All 2 branches covered.">            if (myClass.getId() == id) {</span>
<span class="fc" id="L235">                return myClass;</span>
            }
        }
<span class="nc" id="L238">        throw new MoneyWiseDataException(&quot;Invalid ClassId for &quot; + MoneyWiseAssetType.class.getSimpleName() + &quot;:&quot; + id);</span>
    }

    /**
     * Determine whether this is a valued asset.
     *
     * @return true/false
     */
    public boolean isValued() {
<span class="fc bfc" id="L247" title="All 2 branches covered.">        switch (this) {</span>
            case DEPOSIT:
            case CASH:
            case LOAN:
            case PORTFOLIO:
<span class="fc" id="L252">                return true;</span>
            case AUTOEXPENSE:
            case SECURITY:
            case PAYEE:
            case SECURITYHOLDING:
            default:
<span class="fc" id="L258">                return false;</span>
        }
    }

    /**
     * Determine whether this is a base account.
     *
     * @return true/false
     */
    public boolean isBaseAccount() {
<span class="pc bpc" id="L268" title="1 of 2 branches missed.">        switch (this) {</span>
            case DEPOSIT:
            case AUTOEXPENSE:
            case CASH:
            case LOAN:
            case PORTFOLIO:
            case SECURITYHOLDING:
<span class="fc" id="L275">                return true;</span>
            case SECURITY:
            case PAYEE:
            default:
<span class="nc" id="L279">                return false;</span>
        }
    }

    /**
     * Determine whether this is an asset.
     *
     * @return true/false
     */
    public boolean isAsset() {
<span class="pc bpc" id="L289" title="1 of 2 branches missed.">        switch (this) {</span>
            case DEPOSIT:
            case AUTOEXPENSE:
            case SECURITY:
            case CASH:
            case LOAN:
            case SECURITYHOLDING:
            case PORTFOLIO:
<span class="fc" id="L297">                return true;</span>
            case PAYEE:
            default:
<span class="nc" id="L300">                return false;</span>
        }
    }

    /**
     * Determine whether this is a deposit.
     *
     * @return true/false
     */
    public boolean isDeposit() {
<span class="fc bfc" id="L310" title="All 2 branches covered.">        return this == DEPOSIT;</span>
    }

    /**
     * Determine whether this is a loan.
     *
     * @return true/false
     */
    public boolean isLoan() {
<span class="pc bpc" id="L319" title="1 of 2 branches missed.">        return this == LOAN;</span>
    }

    /**
     * Determine whether this is a security.
     *
     * @return true/false
     */
    public boolean isSecurity() {
<span class="nc bnc" id="L328" title="All 2 branches missed.">        return this == SECURITY;</span>
    }

    /**
     * Determine whether this is a securityHolding.
     *
     * @return true/false
     */
    public boolean isSecurityHolding() {
<span class="fc bfc" id="L337" title="All 2 branches covered.">        return this == SECURITYHOLDING;</span>
    }

    /**
     * Determine whether this is a portfolio.
     *
     * @return true/false
     */
    public boolean isPortfolio() {
<span class="nc bnc" id="L346" title="All 2 branches missed.">        return this == PORTFOLIO;</span>
    }

    /**
     * Determine whether this is a payee.
     *
     * @return true/false
     */
    public boolean isPayee() {
<span class="fc bfc" id="L355" title="All 2 branches covered.">        return this == PAYEE;</span>
    }

    /**
     * Determine whether this is a cash.
     *
     * @return true/false
     */
    public boolean isCash() {
<span class="fc bfc" id="L364" title="All 2 branches covered.">        return this == CASH;</span>
    }

    /**
     * Determine whether this is an autoExpense.
     *
     * @return true/false
     */
    public boolean isAutoExpense() {
<span class="fc bfc" id="L373" title="All 2 branches covered.">        return this == AUTOEXPENSE;</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.14.202510111229</span></div></body></html>