<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang=""><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ThemisXAnalysisParserDef.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Themis Core Project Framework</a> &gt; <a href="index.source.html" class="el_package">net.sourceforge.joceanus.themis.xanalysis.parser.base</a> &gt; <span class="el_source">ThemisXAnalysisParserDef.java</span></div><h1>ThemisXAnalysisParserDef.java</h1><pre class="source lang-java linenums">/*******************************************************************************
 * Themis: Java Project Framework
 * Copyright 2012,2025 Tony Washer
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 ******************************************************************************/
package net.sourceforge.joceanus.themis.xanalysis.parser.base;

import com.github.javaparser.ast.Node;
import com.github.javaparser.ast.NodeList;
import com.github.javaparser.ast.PackageDeclaration;
import com.github.javaparser.ast.body.BodyDeclaration;
import com.github.javaparser.ast.expr.Expression;
import com.github.javaparser.ast.modules.ModuleDirective;
import com.github.javaparser.ast.stmt.Statement;
import com.github.javaparser.ast.type.Type;
import net.sourceforge.joceanus.oceanus.base.OceanusException;
import net.sourceforge.joceanus.themis.xanalysis.parser.base.ThemisXAnalysisInstance.ThemisXAnalysisClassInstance;
import net.sourceforge.joceanus.themis.xanalysis.parser.base.ThemisXAnalysisInstance.ThemisXAnalysisDeclarationInstance;
import net.sourceforge.joceanus.themis.xanalysis.parser.base.ThemisXAnalysisInstance.ThemisXAnalysisExpressionInstance;
import net.sourceforge.joceanus.themis.xanalysis.parser.base.ThemisXAnalysisInstance.ThemisXAnalysisModuleInstance;
import net.sourceforge.joceanus.themis.xanalysis.parser.base.ThemisXAnalysisInstance.ThemisXAnalysisNodeInstance;
import net.sourceforge.joceanus.themis.xanalysis.parser.base.ThemisXAnalysisInstance.ThemisXAnalysisStatementInstance;
import net.sourceforge.joceanus.themis.xanalysis.parser.base.ThemisXAnalysisInstance.ThemisXAnalysisTypeInstance;

import java.io.File;
import java.util.ArrayList;
import java.util.Collections;
import java.util.List;

/**
 * Parser interface.
 */
public interface ThemisXAnalysisParserDef {
    /**
     * Process the file as javaCode.
     * @return the parsed compilation unit
     * @throws OceanusException on error
     */
    ThemisXAnalysisNodeInstance parseJavaFile() throws OceanusException;

    /**
     * Process the file as a module-info instance.
     * @param pInfoFile the module-info file
     * @return the parsed moduleInfo
     * @throws OceanusException on error
     */
    ThemisXAnalysisModuleInstance parseModuleInfo(File pInfoFile) throws OceanusException;

    /**
     * Set the current package.
     * @param pPackage the package
     */
    void setCurrentPackage(String pPackage);

    /**
     * Set the current file.
     * @param pFile the file
     */
    void setCurrentFile(File pFile);

    /**
     * Obtain the classList.
     * @return the classList
     */
    List&lt;ThemisXAnalysisClassInstance&gt; getClasses();

    /**
     * Build exception.
     * @param pMessage the message
     * @param pNode the failing node
     * @return the built exception
     */
    OceanusException buildException(String pMessage,
                                    Node pNode);

    /**
     * Check the package name.
     * @param pPackage the package name
     * @throws OceanusException on error
     */
    void checkPackage(PackageDeclaration pPackage) throws OceanusException;

    /**
     * Register Instance.
     * @param pInstance the instance
     * @return the parent node
     * @throws OceanusException on error
     */
    ThemisXAnalysisInstance registerInstance(ThemisXAnalysisInstance pInstance) throws OceanusException;

    /**
     * Register Class.
     * @param pClass the class
     * @return the class name
     */
    String registerClass(ThemisXAnalysisClassInstance pClass) throws OceanusException;

    /**
     * Parse a declaration.
     * @param pDecl the declaration
     * @return the parsed declaration
     * @throws OceanusException on error
     */
    ThemisXAnalysisDeclarationInstance parseDeclaration(BodyDeclaration&lt;?&gt; pDecl) throws OceanusException;

    /**
     * parse a list of declarations.
     * @param pDeclList the list of Declarations
     * @return the list of parsed declarations
     * @throws OceanusException on error
     */
    default List&lt;ThemisXAnalysisDeclarationInstance&gt; parseDeclarationList(final NodeList&lt;? extends BodyDeclaration&lt;?&gt;&gt; pDeclList) throws OceanusException {
        /* Handle null list */
<span class="pc bpc" id="L125" title="1 of 2 branches missed.">        if (pDeclList == null) {</span>
<span class="nc" id="L126">            return Collections.emptyList();</span>
        }

        /* Create list of declarations */
<span class="fc" id="L130">        final List&lt;ThemisXAnalysisDeclarationInstance&gt; myList = new ArrayList&lt;&gt;();</span>
<span class="fc bfc" id="L131" title="All 2 branches covered.">        for (BodyDeclaration&lt;?&gt; myDecl : pDeclList) {</span>
<span class="fc" id="L132">            final ThemisXAnalysisDeclarationInstance myParsed = parseDeclaration(myDecl);</span>
<span class="fc" id="L133">            myList.add(myParsed);</span>
<span class="fc" id="L134">        }</span>
<span class="fc" id="L135">        return myList;</span>
    }

    /**
     * Parse a node.
     * @param pNode the node
     * @return the parsed node
     * @throws OceanusException on error
     */
    ThemisXAnalysisNodeInstance parseNode(Node pNode) throws OceanusException;

    /**
     * parse a list of nodes.
     * @param pNodeList the list of Nodes
     * @return the list of parsed nodes
     * @throws OceanusException on error
     */
    default List&lt;ThemisXAnalysisNodeInstance&gt; parseNodeList(final NodeList&lt;? extends Node&gt; pNodeList) throws OceanusException {
        /* Handle null list */
<span class="pc bpc" id="L154" title="1 of 2 branches missed.">        if (pNodeList == null) {</span>
<span class="nc" id="L155">            return Collections.emptyList();</span>
        }

        /* Create list of nodes */
<span class="fc" id="L159">        final List&lt;ThemisXAnalysisNodeInstance&gt; myList = new ArrayList&lt;&gt;();</span>
<span class="fc bfc" id="L160" title="All 2 branches covered.">        for (Node myNode : pNodeList) {</span>
<span class="fc" id="L161">            final ThemisXAnalysisNodeInstance myParsed = parseNode(myNode);</span>
<span class="fc" id="L162">            myList.add(myParsed);</span>
<span class="fc" id="L163">        }</span>
<span class="fc" id="L164">        return myList;</span>
    }

    /**
     * parse a list of modifiers.
     * @param pNodeList the list of Modifiers
     * @return the list of parsed modifiers
     * @throws OceanusException on error
     */
    ThemisXAnalysisModifierList parseModifierList(NodeList&lt;? extends Node&gt; pNodeList) throws OceanusException;

    /**
     * Parse a type.
     * @param pType the type
     * @return the parsed type
     * @throws OceanusException on error
     */
    ThemisXAnalysisTypeInstance parseType(Type pType) throws OceanusException;

    /**
     * parse a list of types.
     * @param pTypeList the list of Types
     * @return the list of parsed types
     * @throws OceanusException on error
     */
    default List&lt;ThemisXAnalysisTypeInstance&gt; parseTypeList(final NodeList&lt;? extends Type&gt; pTypeList) throws OceanusException {
        /* Handle null list */
<span class="fc bfc" id="L191" title="All 2 branches covered.">        if (pTypeList == null) {</span>
<span class="fc" id="L192">            return Collections.emptyList();</span>
        }

        /* Create list of nodes */
<span class="fc" id="L196">        final List&lt;ThemisXAnalysisTypeInstance&gt; myList = new ArrayList&lt;&gt;();</span>
<span class="fc bfc" id="L197" title="All 2 branches covered.">        for (Type myType : pTypeList) {</span>
<span class="fc" id="L198">            final ThemisXAnalysisTypeInstance myParsed = parseType(myType);</span>
<span class="fc" id="L199">            myList.add(myParsed);</span>
<span class="fc" id="L200">        }</span>
<span class="fc" id="L201">        return myList;</span>
    }

    /**
     * Parse a statement.
     * @param pStatement the statement
     * @return the parsed statement
     * @throws OceanusException on error
     */
    ThemisXAnalysisStatementInstance parseStatement(Statement pStatement) throws OceanusException;

    /**
     * parse a list of statements.
     * @param pStatementList the list of Statements
     * @return the list of parsed statements
     * @throws OceanusException on error
     */
    default List&lt;ThemisXAnalysisStatementInstance&gt; parseStatementList(final NodeList&lt;? extends Statement&gt; pStatementList) throws OceanusException {
        /* Handle null list */
<span class="pc bpc" id="L220" title="1 of 2 branches missed.">        if (pStatementList == null) {</span>
<span class="nc" id="L221">            return Collections.emptyList();</span>
        }

        /* Create list of statements */
<span class="fc" id="L225">        final List&lt;ThemisXAnalysisStatementInstance&gt; myList = new ArrayList&lt;&gt;();</span>
<span class="fc bfc" id="L226" title="All 2 branches covered.">        for (Statement myStatement : pStatementList) {</span>
<span class="fc" id="L227">            final ThemisXAnalysisStatementInstance myParsed = parseStatement(myStatement);</span>
<span class="fc" id="L228">            myList.add(myParsed);</span>
<span class="fc" id="L229">        }</span>
<span class="fc" id="L230">        return myList;</span>
    }

    /**
     * Parse an expression.
     * @param pExpression the expression
     * @return the parsed expression
     * @throws OceanusException on error
     */
    ThemisXAnalysisExpressionInstance parseExpression(Expression pExpression) throws OceanusException;

    /**
     * parse a list of expressions.
     * @param pExprList the list of Expressions
     * @return the list of parsed expressions
     * @throws OceanusException on error
     */
    default List&lt;ThemisXAnalysisExpressionInstance&gt; parseExprList(final NodeList&lt;? extends Expression&gt; pExprList) throws OceanusException {
        /* Handle null list */
<span class="pc bpc" id="L249" title="1 of 2 branches missed.">        if (pExprList == null) {</span>
<span class="nc" id="L250">            return Collections.emptyList();</span>
        }

        /* Create list of expressions */
<span class="fc" id="L254">        final List&lt;ThemisXAnalysisExpressionInstance&gt; myList = new ArrayList&lt;&gt;();</span>
<span class="fc bfc" id="L255" title="All 2 branches covered.">        for (Expression myExpr : pExprList) {</span>
<span class="fc" id="L256">            final ThemisXAnalysisExpressionInstance myParsed = parseExpression(myExpr);</span>
<span class="fc" id="L257">            myList.add(myParsed);</span>
<span class="fc" id="L258">        }</span>
<span class="fc" id="L259">        return myList;</span>
    }

    /**
     * Parse a module.
     * @param pDeclaration the module declaration/directive
     * @return the parsed declaration/directive
     * @throws OceanusException on error
     */
    ThemisXAnalysisModuleInstance parseModule(Node pDeclaration) throws OceanusException;

    /**
     * parse a list of module directives.
     * @param pDirList the list of Directives
     * @return the list of parsed directives
     * @throws OceanusException on error
     */
    default List&lt;ThemisXAnalysisModuleInstance&gt; parseModuleList(final NodeList&lt;? extends ModuleDirective&gt; pDirList) throws OceanusException {
        /* Handle null list */
<span class="pc bpc" id="L278" title="1 of 2 branches missed.">        if (pDirList == null) {</span>
<span class="nc" id="L279">            return Collections.emptyList();</span>
        }

        /* Create list of directives */
<span class="fc" id="L283">        final List&lt;ThemisXAnalysisModuleInstance&gt; myList = new ArrayList&lt;&gt;();</span>
<span class="fc bfc" id="L284" title="All 2 branches covered.">        for (ModuleDirective myDir : pDirList) {</span>
<span class="fc" id="L285">            final ThemisXAnalysisModuleInstance myParsed = parseModule(myDir);</span>
<span class="fc" id="L286">            myList.add(myParsed);</span>
<span class="fc" id="L287">        }</span>
<span class="fc" id="L288">        return myList;</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.14.202510111229</span></div></body></html>