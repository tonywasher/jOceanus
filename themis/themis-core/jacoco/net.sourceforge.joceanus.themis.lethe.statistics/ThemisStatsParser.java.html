<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang=""><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ThemisStatsParser.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Themis Core Project Framework</a> &gt; <a href="index.source.html" class="el_package">net.sourceforge.joceanus.themis.lethe.statistics</a> &gt; <span class="el_source">ThemisStatsParser.java</span></div><h1>ThemisStatsParser.java</h1><pre class="source lang-java linenums">/*******************************************************************************
 * Themis: Java Project Framework
 * Copyright 2012,2025 Tony Washer
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 ******************************************************************************/
package net.sourceforge.joceanus.themis.lethe.statistics;

import net.sourceforge.joceanus.themis.lethe.analysis.ThemisAnalysisAnnotation;
import net.sourceforge.joceanus.themis.lethe.analysis.ThemisAnalysisAnonClass;
import net.sourceforge.joceanus.themis.lethe.analysis.ThemisAnalysisBlank;
import net.sourceforge.joceanus.themis.lethe.analysis.ThemisAnalysisBlock;
import net.sourceforge.joceanus.themis.lethe.analysis.ThemisAnalysisCase;
import net.sourceforge.joceanus.themis.lethe.analysis.ThemisAnalysisCatch;
import net.sourceforge.joceanus.themis.lethe.analysis.ThemisAnalysisClass;
import net.sourceforge.joceanus.themis.lethe.analysis.ThemisAnalysisComment;
import net.sourceforge.joceanus.themis.lethe.analysis.ThemisAnalysisContainer;
import net.sourceforge.joceanus.themis.lethe.analysis.ThemisAnalysisDoWhile;
import net.sourceforge.joceanus.themis.lethe.analysis.ThemisAnalysisElement;
import net.sourceforge.joceanus.themis.lethe.analysis.ThemisAnalysisElse;
import net.sourceforge.joceanus.themis.lethe.analysis.ThemisAnalysisEmbedded;
import net.sourceforge.joceanus.themis.lethe.analysis.ThemisAnalysisEnum;
import net.sourceforge.joceanus.themis.lethe.analysis.ThemisAnalysisField;
import net.sourceforge.joceanus.themis.lethe.analysis.ThemisAnalysisFile;
import net.sourceforge.joceanus.themis.lethe.analysis.ThemisAnalysisFile.ThemisAnalysisObject;
import net.sourceforge.joceanus.themis.lethe.analysis.ThemisAnalysisFinally;
import net.sourceforge.joceanus.themis.lethe.analysis.ThemisAnalysisFor;
import net.sourceforge.joceanus.themis.lethe.analysis.ThemisAnalysisIf;
import net.sourceforge.joceanus.themis.lethe.analysis.ThemisAnalysisImports;
import net.sourceforge.joceanus.themis.lethe.analysis.ThemisAnalysisInterface;
import net.sourceforge.joceanus.themis.lethe.analysis.ThemisAnalysisLambda;
import net.sourceforge.joceanus.themis.lethe.analysis.ThemisAnalysisMethod;
import net.sourceforge.joceanus.themis.lethe.analysis.ThemisAnalysisModule;
import net.sourceforge.joceanus.themis.lethe.analysis.ThemisAnalysisPackage;
import net.sourceforge.joceanus.themis.lethe.analysis.ThemisAnalysisProject;
import net.sourceforge.joceanus.themis.lethe.analysis.ThemisAnalysisStatement;
import net.sourceforge.joceanus.themis.lethe.analysis.ThemisAnalysisSwitch;
import net.sourceforge.joceanus.themis.lethe.analysis.ThemisAnalysisTry;
import net.sourceforge.joceanus.themis.lethe.analysis.ThemisAnalysisWhile;

/**
 * Package Parser.
 */
<span class="nc" id="L54">public class ThemisStatsParser {</span>
    /**
     * The cached documentation comment.
     */
    private ThemisAnalysisComment theCachedDocComment;

    /**
     * The cached annotation.
     */
    private ThemisAnalysisAnnotation theCachedAnnotation;

    /**
     * parse a project.
     * @param pProject the project to parse
     * @return the stats
     */
    public ThemisStatsProject parseProject(final ThemisAnalysisProject pProject) {
        /* Create the stats */
<span class="nc" id="L72">        final ThemisStatsProject myStats = new ThemisStatsProject(pProject);</span>

        /* Loop through the modules */
<span class="nc bnc" id="L75" title="All 2 branches missed.">        for (ThemisAnalysisModule myModule : pProject.getModules()) {</span>
            /* Process the module */
<span class="nc" id="L77">            myStats.addModule(parseModule(myModule));</span>
<span class="nc" id="L78">        }</span>

        /* Return the projectStats */
<span class="nc" id="L81">        return myStats;</span>
    }

    /**
     * parse a module.
     * @param pModule the module to parse
     * @return the stats
     */
    public ThemisStatsModule parseModule(final ThemisAnalysisModule pModule) {
        /* Create the stats */
<span class="nc" id="L91">        final ThemisStatsModule myStats = new ThemisStatsModule(pModule);</span>

        /* Loop through the packages */
<span class="nc bnc" id="L94" title="All 2 branches missed.">        for (ThemisAnalysisPackage myPackage : pModule.getPackages()) {</span>
            /* Process the package */
<span class="nc" id="L96">            myStats.addPackage(parsePackage(myPackage));</span>
<span class="nc" id="L97">        }</span>

        /* Return the moduleStats */
<span class="nc" id="L100">        return myStats;</span>
    }

    /**
     * parse a package.
     * @param pPackage the package to parse
     * @return the stats
     */
    public ThemisStatsPackage parsePackage(final ThemisAnalysisPackage pPackage) {
        /* Create the stats */
<span class="nc" id="L110">        final ThemisStatsPackage myStats = new ThemisStatsPackage(pPackage);</span>

        /* Loop through the files */
<span class="nc bnc" id="L113" title="All 2 branches missed.">        for (ThemisAnalysisFile myFile : pPackage.getFiles()) {</span>
            /* Process the file */
<span class="nc" id="L115">            myStats.addFile(parseFile(myStats, myFile));</span>
<span class="nc" id="L116">        }</span>

        /* Return the packageStats */
<span class="nc" id="L119">        return myStats;</span>
    }

    /**
     * parse a file.
     * @param pPackage the owning package
     * @param pFile the file to parse
     * @return the stats
     */
    public ThemisStatsFile parseFile(final ThemisStatsPackage pPackage,
                                     final ThemisAnalysisFile pFile) {
        /* Create the stats */
<span class="nc" id="L131">        final ThemisStatsFile myStats = new ThemisStatsFile(pFile);</span>

        /* process the container */
<span class="nc" id="L134">        processContainer(myStats, pFile);</span>

        /* Return the fileStats */
<span class="nc" id="L137">        return myStats;</span>
    }

    /**
     * parse a class.
     * @param pOwner the owner
     * @param pClass the class to parse
     * @return the stats
     */
    public ThemisStatsClass parseClass(final ThemisStatsBase pOwner,
                                       final ThemisAnalysisObject pClass) {
        /* Create the stats */
<span class="nc" id="L149">        final ThemisStatsClass myStats = new ThemisStatsClass(pClass);</span>

        /* process the container */
<span class="nc" id="L152">        processCachedItems(pOwner, myStats);</span>
<span class="nc" id="L153">        processContainer(myStats, pClass);</span>

        /* Return the classStats */
<span class="nc" id="L156">        return myStats;</span>
    }

    /**
     * parse a method.
     * @param pOwner the owner
     * @param pMethod the method to parse
     * @return the stats
     */
    public ThemisStatsMethod parseMethod(final ThemisStatsBase pOwner,
                                         final ThemisAnalysisMethod pMethod) {
        /* Create the stats */
<span class="nc" id="L168">        final ThemisStatsMethod myStats = new ThemisStatsMethod(pMethod);</span>

        /* process the container */
<span class="nc" id="L171">        processCachedItems(pOwner, myStats);</span>
<span class="nc" id="L172">        processContainer(myStats, pMethod);</span>

        /* Return the classStats */
<span class="nc" id="L175">        return myStats;</span>
    }

    /**
     * process container.
     * @param pOwner the owner
     * @param pContainer the container
     */
    public void processContainer(final ThemisStatsBase pOwner,
                                 final ThemisAnalysisContainer pContainer) {
        /* Loop through the contents */
<span class="nc bnc" id="L186" title="All 2 branches missed.">        for (ThemisAnalysisElement myElement : pContainer.getContents()) {</span>
            /* If this is an annotation */
<span class="nc bnc" id="L188" title="All 2 branches missed.">            if (myElement instanceof ThemisAnalysisAnnotation myAnnotation) {</span>
<span class="nc" id="L189">                processAnnotation(pOwner, myAnnotation, true);</span>

                /* If this is an anonymous class */
<span class="nc bnc" id="L192" title="All 2 branches missed.">            } else if (myElement instanceof ThemisAnalysisAnonClass myAnon) {</span>
<span class="nc" id="L193">                processAnonClass(pOwner, myAnon);</span>

                /* If this is a blank */
<span class="nc bnc" id="L196" title="All 2 branches missed.">            } else if (myElement instanceof ThemisAnalysisBlank myBlank) {</span>
<span class="nc" id="L197">                processBlank(pOwner, myBlank);</span>

                /* If this is a block */
<span class="nc bnc" id="L200" title="All 2 branches missed.">            } else if (myElement instanceof ThemisAnalysisBlock myBlock) {</span>
<span class="nc" id="L201">                processBlock(pOwner, myBlock);</span>

                /* If this is a case */
<span class="nc bnc" id="L204" title="All 2 branches missed.">            } else if (myElement instanceof ThemisAnalysisCase myCase) {</span>
<span class="nc" id="L205">                processCase(pOwner, myCase);</span>

                /* If this is a class */
<span class="nc bnc" id="L208" title="All 2 branches missed.">            } else if (myElement instanceof ThemisAnalysisClass myClass) {</span>
<span class="nc" id="L209">                processClass(pOwner, myClass);</span>

                /* If this is a comment */
<span class="nc bnc" id="L212" title="All 2 branches missed.">            } else if (myElement instanceof ThemisAnalysisComment myComment) {</span>
<span class="nc" id="L213">                processComment(pOwner, myComment, true);</span>

            /* If this is a doWhile */
<span class="nc bnc" id="L216" title="All 2 branches missed.">            } else if (myElement instanceof ThemisAnalysisDoWhile myDoWhile) {</span>
<span class="nc" id="L217">                processDoWhile(pOwner, myDoWhile);</span>

                /* If this is an embedded */
<span class="nc bnc" id="L220" title="All 2 branches missed.">            } else if (myElement instanceof ThemisAnalysisEmbedded myEmbedded) {</span>
<span class="nc" id="L221">                processEmbedded(pOwner, myEmbedded);</span>

                 /* If this is an enum */
<span class="nc bnc" id="L224" title="All 2 branches missed.">            } else if (myElement instanceof ThemisAnalysisEnum myEnum) {</span>
<span class="nc" id="L225">                processEnum(pOwner, myEnum);</span>

                /* If this is a field */
<span class="nc bnc" id="L228" title="All 2 branches missed.">            } else if (myElement instanceof ThemisAnalysisField myField) {</span>
<span class="nc" id="L229">                processField(pOwner, myField);</span>

                /* If this is a for */
<span class="nc bnc" id="L232" title="All 2 branches missed.">            } else if (myElement instanceof ThemisAnalysisFor myFor) {</span>
<span class="nc" id="L233">                processFor(pOwner, myFor);</span>

                /* If this is an if */
<span class="nc bnc" id="L236" title="All 2 branches missed.">            } else if (myElement instanceof ThemisAnalysisIf myIf) {</span>
<span class="nc" id="L237">                processIf(pOwner, myIf);</span>

                /* If this is an imports */
<span class="nc bnc" id="L240" title="All 2 branches missed.">            } else if (myElement instanceof ThemisAnalysisImports myImports) {</span>
<span class="nc" id="L241">                processImports(pOwner, myImports);</span>

                /* If this is an interface */
<span class="nc bnc" id="L244" title="All 2 branches missed.">            } else if (myElement instanceof ThemisAnalysisInterface myInterface) {</span>
<span class="nc" id="L245">                processInterface(pOwner, myInterface);</span>

                /* If this is a lambda */
<span class="nc bnc" id="L248" title="All 2 branches missed.">            } else if (myElement instanceof ThemisAnalysisLambda myLambda) {</span>
<span class="nc" id="L249">                processLambda(pOwner, myLambda);</span>

                /* If this is a method */
<span class="nc bnc" id="L252" title="All 2 branches missed.">            } else if (myElement instanceof ThemisAnalysisMethod myMethod) {</span>
<span class="nc" id="L253">                processMethod(pOwner, myMethod);</span>

                /* If this is a package */
<span class="nc bnc" id="L256" title="All 2 branches missed.">            } else if (myElement instanceof ThemisAnalysisPackage) {</span>
<span class="nc" id="L257">                processPackage(pOwner);</span>

                /* If this is a statement */
<span class="nc bnc" id="L260" title="All 2 branches missed.">            } else if (myElement instanceof ThemisAnalysisStatement myStatement) {</span>
<span class="nc" id="L261">                processStatement(pOwner, myStatement);</span>

                /* If this is a switch */
<span class="nc bnc" id="L264" title="All 2 branches missed.">            } else if (myElement instanceof ThemisAnalysisSwitch mySwitch) {</span>
<span class="nc" id="L265">                processSwitch(pOwner, mySwitch);</span>

                /* If this is a try */
<span class="nc bnc" id="L268" title="All 2 branches missed.">            } else if (myElement instanceof ThemisAnalysisTry myTry) {</span>
<span class="nc" id="L269">                processTry(pOwner, myTry);</span>

                /* If this is a while */
<span class="nc bnc" id="L272" title="All 2 branches missed.">            } else if (myElement instanceof ThemisAnalysisWhile myWhile) {</span>
<span class="nc" id="L273">                processWhile(pOwner, myWhile);</span>
            }

            /* Adjust the cached items */
<span class="nc" id="L277">            adjustCachedItems(myElement);</span>
<span class="nc" id="L278">        }</span>
<span class="nc" id="L279">    }</span>

    /**
     * process annotation.
     * @param pOwner the owner
     * @param pAnnotation the annotation
     * @param pAddToStats addTo stats or remove from Stats?
     */
    private static void processAnnotation(final ThemisStatsBase pOwner,
                                          final ThemisAnalysisAnnotation pAnnotation,
                                          final boolean pAddToStats) {
        /* Adjust statistics */
<span class="nc bnc" id="L291" title="All 2 branches missed.">        final int myAdjust = pAddToStats</span>
<span class="nc" id="L292">                                ? pAnnotation.getNumLines()</span>
<span class="nc" id="L293">                                : -pAnnotation.getNumLines();</span>
<span class="nc" id="L294">        adjustLinesOfCode(pOwner, myAdjust);</span>
<span class="nc" id="L295">    }</span>

    /**
     * process anonymous class.
     * @param pOwner the owner
     * @param pAnon the anonymous class
     */
    private void processAnonClass(final ThemisStatsBase pOwner,
                                  final ThemisAnalysisAnonClass pAnon) {
        /* Parse the class */
<span class="nc" id="L305">        final ThemisStatsClass myClass = parseClass(pOwner, pAnon);</span>

        /* Adjust statistics */
<span class="nc" id="L308">        pOwner.incrementStat(ThemisStat.NCL);</span>

        /* Adjust the stats and add to owner */
<span class="nc" id="L311">        adjustLinesOfCode(myClass, pAnon.getNumLines());</span>
<span class="nc" id="L312">        pOwner.addClass(myClass);</span>
<span class="nc" id="L313">    }</span>

    /**
     * process blank.
     * @param pOwner the owner
     * @param pBlank the blank
     */
    private static void processBlank(final ThemisStatsBase pOwner,
                                     final ThemisAnalysisBlank pBlank) {
        /* Adjust statistics */
<span class="nc" id="L323">        final int myBlanks = pBlank.getNumLines();</span>
<span class="nc" id="L324">        pOwner.adjustStat(ThemisStat.LOC, myBlanks);</span>
<span class="nc" id="L325">    }</span>

    /**
     * process block.
     * @param pOwner the owner
     * @param pBlock the block
     */
    private void processBlock(final ThemisStatsBase pOwner,
                              final ThemisAnalysisBlock pBlock) {
        /* process the container */
<span class="nc" id="L335">        processContainer(pOwner, pBlock);</span>

        /* Adjust the owner stats */
<span class="nc" id="L338">        adjustLinesOfCode(pOwner, pBlock.getNumLines());</span>
<span class="nc bnc" id="L339" title="All 2 branches missed.">        if (pBlock.isSynchronized()) {</span>
<span class="nc" id="L340">            adjustNumberOfStatements(pOwner, 1);</span>
        }
<span class="nc" id="L342">    }</span>

    /**
     * process class.
     * @param pOwner the owner
     * @param pClass the class
     */
    private void processClass(final ThemisStatsBase pOwner,
                              final ThemisAnalysisClass pClass) {
        /* Parse the class */
<span class="nc" id="L352">        final ThemisStatsClass myClass = parseClass(pOwner, pClass);</span>

        /* Adjust statistics */
<span class="nc" id="L355">        pOwner.incrementStat(ThemisStat.NCL);</span>

        /* Adjust the stats and add to owner */
<span class="nc" id="L358">        adjustLinesOfCode(myClass, pClass.getNumLines());</span>
<span class="nc" id="L359">        adjustNumberOfStatements(pOwner, 1);</span>
<span class="nc" id="L360">        pOwner.addClass(myClass);</span>
<span class="nc" id="L361">    }</span>

    /**
     * process comment.
     * @param pOwner the owner
     * @param pComment the comment
     * @param pAddToStats addTo stats or remove from Stats?
     */
    private static void processComment(final ThemisStatsBase pOwner,
                                       final ThemisAnalysisComment pComment,
                                       final boolean pAddToStats) {
        /* Adjust the stats */
<span class="nc bnc" id="L373" title="All 2 branches missed.">        final int myAdjust = pAddToStats</span>
<span class="nc" id="L374">                                 ? pComment.getNumLines()</span>
<span class="nc" id="L375">                                 : -pComment.getNumLines();</span>
<span class="nc" id="L376">        pOwner.adjustStat(ThemisStat.LOC, myAdjust);</span>
<span class="nc" id="L377">        pOwner.adjustStat(ThemisStat.CLOC, myAdjust);</span>
<span class="nc bnc" id="L378" title="All 2 branches missed.">        if (pComment.isJavaDoc()) {</span>
<span class="nc" id="L379">            pOwner.adjustStat(ThemisStat.DLOC, myAdjust);</span>
        }
<span class="nc" id="L381">    }</span>

    /**
     * process doWhile.
     * @param pOwner the owner
     * @param pDoWhile the doWhile
     */
    private void processDoWhile(final ThemisStatsBase pOwner,
                                final ThemisAnalysisDoWhile pDoWhile) {
        /* process the container */
<span class="nc" id="L391">        processContainer(pOwner, pDoWhile);</span>

        /* Adjust the owner stats */
<span class="nc" id="L394">        adjustLinesOfCode(pOwner, pDoWhile.getNumLines());</span>
<span class="nc" id="L395">        adjustNumberOfStatements(pOwner, 1);</span>
<span class="nc" id="L396">    }</span>

    /**
     * process embedded element.
     * @param pOwner the owner
     * @param pEmbedded the embedded
     */
    private void processEmbedded(final ThemisStatsBase pOwner,
                                 final ThemisAnalysisEmbedded pEmbedded) {
        /* process the container */
<span class="nc" id="L406">        processContainer(pOwner, pEmbedded);</span>

        /* Adjust statistics */
<span class="nc" id="L409">        adjustNumberOfStatements(pOwner, 1);</span>
<span class="nc" id="L410">        adjustLinesOfCode(pOwner, pEmbedded.getNumLines());</span>
<span class="nc" id="L411">    }</span>

    /**
     * process enum.
     * @param pOwner the owner
     * @param pEnum the enum
     */
    private void processEnum(final ThemisStatsBase pOwner,
                             final ThemisAnalysisEnum pEnum) {
        /* Parse the enum */
<span class="nc" id="L421">        final ThemisStatsClass myEnum = parseClass(pOwner, pEnum);</span>

        /* Adjust owner statistics */
<span class="nc" id="L424">        pOwner.incrementStat(ThemisStat.NEN);</span>

        /* Adjust the stats and add to owner */
<span class="nc" id="L427">        adjustLinesOfCode(myEnum, pEnum.getNumLines());</span>
<span class="nc" id="L428">        adjustNumberOfAttributes(myEnum, pEnum.getNumEnums());</span>
<span class="nc" id="L429">        adjustNumberOfStatements(pOwner, 1);</span>
<span class="nc" id="L430">        pOwner.addClass(myEnum);</span>
<span class="nc" id="L431">    }</span>

    /**
     * process field.
     * @param pOwner the owner
     * @param pField the field
     */
    private static void processField(final ThemisStatsBase pOwner,
                                     final ThemisAnalysisField pField) {
        /* Adjust the stats */
<span class="nc" id="L441">        adjustLinesOfCode(pOwner, pField.getNumLines());</span>

        /* Counts as a statement if there is an initializer */
<span class="nc bnc" id="L444" title="All 2 branches missed.">        if (pField.statementIterator().hasNext()) {</span>
<span class="nc" id="L445">            adjustNumberOfStatements(pOwner, 1);</span>
        }

        /* Attributes are only relevant to classes */
<span class="nc bnc" id="L449" title="All 2 branches missed.">        if (pOwner instanceof ThemisStatsClass) {</span>
<span class="nc" id="L450">            adjustNumberOfAttributes(pOwner, 1);</span>
        }
<span class="nc" id="L452">    }</span>

    /**
     * process for.
     * @param pOwner the owner
     * @param pFor the for
     */
    private void processFor(final ThemisStatsBase pOwner,
                            final ThemisAnalysisFor pFor) {
        /* process the container */
<span class="nc" id="L462">        processContainer(pOwner, pFor);</span>

        /* Adjust the owner stats */
<span class="nc" id="L465">        adjustLinesOfCode(pOwner, pFor.getNumLines());</span>
<span class="nc" id="L466">        adjustNumberOfStatements(pOwner, 1);</span>
<span class="nc" id="L467">    }</span>

    /**
     * process if.
     * @param pOwner the owner
     * @param pIf the if
     */
    private void processIf(final ThemisStatsBase pOwner,
                           final ThemisAnalysisIf pIf) {
        /* process the container */
<span class="nc" id="L477">        processContainer(pOwner, pIf);</span>

        /* Adjust the owner stats */
<span class="nc" id="L480">        adjustLinesOfCode(pOwner, pIf.getNumLines());</span>
<span class="nc" id="L481">        adjustNumberOfStatements(pOwner, 1);</span>

        /* Handle else */
<span class="nc" id="L484">        final ThemisAnalysisElse myElse = pIf.getElse();</span>
<span class="nc bnc" id="L485" title="All 2 branches missed.">        if (myElse != null) {</span>
<span class="nc" id="L486">            processElse(pOwner, myElse);</span>
        }
<span class="nc" id="L488">    }</span>

    /**
     * process else.
     * @param pOwner the owner
     * @param pElse the else
     */
    private void processElse(final ThemisStatsBase pOwner,
                             final ThemisAnalysisElse pElse) {
        /* process the container */
<span class="nc" id="L498">        processContainer(pOwner, pElse);</span>

        /* Adjust the owner stats */
<span class="nc" id="L501">        adjustLinesOfCode(pOwner, pElse.getNumLines());</span>
<span class="nc" id="L502">        adjustNumberOfStatements(pOwner, 1);</span>

        /* Handle additional else */
<span class="nc" id="L505">        final ThemisAnalysisElse myElse = pElse.getElse();</span>
<span class="nc bnc" id="L506" title="All 2 branches missed.">        if (myElse != null) {</span>
<span class="nc" id="L507">            processElse(pOwner, myElse);</span>
        }
<span class="nc" id="L509">    }</span>

    /**
     * process imports.
     * @param pOwner the owner
     * @param pImports the imports
     */
    private static void processImports(final ThemisStatsBase pOwner,
                                       final ThemisAnalysisImports pImports) {
        /* Adjust the stats */
<span class="nc" id="L519">        adjustLinesOfCode(pOwner, pImports.getNumLines());</span>
<span class="nc" id="L520">        adjustNumberOfStatements(pOwner, pImports.getNumLines());</span>
<span class="nc" id="L521">    }</span>

    /**
     * process interface.
     * @param pOwner the owner
     * @param pInterface the interface
     */
    private void processInterface(final ThemisStatsBase pOwner,
                                  final ThemisAnalysisInterface pInterface) {
        /* Parse the interface */
<span class="nc" id="L531">        final ThemisStatsClass myIFace = parseClass(pOwner, pInterface);</span>

        /* Adjust owner statistics */
<span class="nc" id="L534">        pOwner.incrementStat(ThemisStat.NIN);</span>

        /* Adjust the stats and add to owner */
<span class="nc" id="L537">        adjustLinesOfCode(myIFace, pInterface.getNumLines());</span>
<span class="nc" id="L538">        adjustNumberOfStatements(pOwner, 1);</span>
<span class="nc" id="L539">        pOwner.addClass(myIFace);</span>
<span class="nc" id="L540">    }</span>

    /**
     * process lambda.
     * @param pOwner the owner
     * @param pLambda the lambda
     */
    private void processLambda(final ThemisStatsBase pOwner,
                               final ThemisAnalysisLambda pLambda) {
        /* process the container */
<span class="nc" id="L550">        processContainer(pOwner, pLambda);</span>

        /* Adjust the owner stats */
<span class="nc" id="L553">        adjustLinesOfCode(pOwner, pLambda.getNumLines());</span>
<span class="nc" id="L554">    }</span>

    /**
     * process method.
     * @param pOwner the owner
     * @param pMethod the method
     */
    private void processMethod(final ThemisStatsBase pOwner,
                               final ThemisAnalysisMethod pMethod) {
        /*  Parse the method */
<span class="nc" id="L564">        final ThemisStatsMethod myMethod = parseMethod(pOwner, pMethod);</span>

        /* Adjust owner statistics */
<span class="nc" id="L567">        pOwner.incrementStat(ThemisStat.NM);</span>

        /* Adjust the lines of code and add to owner */
<span class="nc" id="L570">        adjustLinesOfCode(myMethod, pMethod.getNumLines());</span>
<span class="nc" id="L571">        adjustNumberOfStatements(pOwner, 1);</span>
<span class="nc" id="L572">        pOwner.addMethod(myMethod);</span>
<span class="nc" id="L573">    }</span>

    /**
     * process package.
     * @param pOwner the owner
     */
    private static void processPackage(final ThemisStatsBase pOwner) {
        /* Adjust the stats */
<span class="nc" id="L581">        adjustLinesOfCode(pOwner, 1);</span>
<span class="nc" id="L582">    }</span>

    /**
     * process statement.
     * @param pOwner the owner
     * @param pStatement the statement
     */
    private static void processStatement(final ThemisStatsBase pOwner,
                                         final ThemisAnalysisStatement pStatement) {
        /* Adjust the owner stats */
<span class="nc" id="L592">        adjustLinesOfCode(pOwner, pStatement.getNumLines());</span>
<span class="nc" id="L593">        adjustNumberOfStatements(pOwner, 1);</span>
<span class="nc" id="L594">    }</span>

    /**
     * process switch.
     * @param pOwner the owner
     * @param pSwitch the switch
     */
    private void processSwitch(final ThemisStatsBase pOwner,
                               final ThemisAnalysisSwitch pSwitch) {
        /* process the container */
<span class="nc" id="L604">        processContainer(pOwner, pSwitch);</span>

        /* Adjust the owner stats */
<span class="nc" id="L607">        adjustLinesOfCode(pOwner, pSwitch.getNumLines());</span>
<span class="nc" id="L608">        adjustNumberOfStatements(pOwner, 1);</span>
<span class="nc" id="L609">    }</span>

    /**
     * process case.
     * @param pOwner the owner
     * @param pCase the case
     */
    private void processCase(final ThemisStatsBase pOwner,
                             final ThemisAnalysisCase pCase) {
        /* process the container */
<span class="nc" id="L619">        processContainer(pOwner, pCase);</span>

        /* Adjust the owner stats */
<span class="nc" id="L622">        adjustLinesOfCode(pOwner, pCase.getNumLines());</span>
<span class="nc" id="L623">    }</span>

    /**
     * process try.
     * @param pOwner the owner
     * @param pTry the try
     */
    private void processTry(final ThemisStatsBase pOwner,
                            final ThemisAnalysisTry pTry) {
        /* process the container */
<span class="nc" id="L633">        processContainer(pOwner, pTry);</span>

        /* Adjust the owner stats */
<span class="nc" id="L636">        adjustLinesOfCode(pOwner, pTry.getNumLines());</span>

        /* Handle catch */
<span class="nc" id="L639">        final ThemisAnalysisCatch myCatch = pTry.getCatch();</span>
<span class="nc bnc" id="L640" title="All 2 branches missed.">        if (myCatch != null) {</span>
<span class="nc" id="L641">            processCatch(pOwner, myCatch);</span>
        }

        /* Handle finally */
<span class="nc" id="L645">        final ThemisAnalysisFinally myFinally = pTry.getFinally();</span>
<span class="nc bnc" id="L646" title="All 2 branches missed.">        if (myFinally != null) {</span>
<span class="nc" id="L647">            processFinally(pOwner, myFinally);</span>
        }
<span class="nc" id="L649">    }</span>

    /**
     * process catch.
     * @param pOwner the owner
     * @param pCatch the catch
     */
    private void processCatch(final ThemisStatsBase pOwner,
                              final ThemisAnalysisCatch pCatch) {
        /* process the container */
<span class="nc" id="L659">        processContainer(pOwner, pCatch);</span>

        /* Adjust the owner stats */
<span class="nc" id="L662">        adjustLinesOfCode(pOwner, pCatch.getNumLines());</span>
<span class="nc" id="L663">        adjustNumberOfStatements(pOwner, 1);</span>

        /* Handle additional catch */
<span class="nc" id="L666">        final ThemisAnalysisCatch myCatch = pCatch.getCatch();</span>
<span class="nc bnc" id="L667" title="All 2 branches missed.">        if (myCatch != null) {</span>
<span class="nc" id="L668">            processCatch(pOwner, myCatch);</span>
        }
<span class="nc" id="L670">    }</span>

    /**
     * process finally.
     * @param pOwner the owner
     * @param pFinally the finally
     */
    private void processFinally(final ThemisStatsBase pOwner,
                                final ThemisAnalysisFinally pFinally) {
        /* process the container */
<span class="nc" id="L680">        processContainer(pOwner, pFinally);</span>

        /* Adjust the owner stats */
<span class="nc" id="L683">        adjustLinesOfCode(pOwner, pFinally.getNumLines());</span>
<span class="nc" id="L684">        adjustNumberOfStatements(pOwner, 1);</span>
<span class="nc" id="L685">    }</span>

    /**
     * process while.
     * @param pOwner the owner
     * @param pWhile the while
     */
    private void processWhile(final ThemisStatsBase pOwner,
                              final ThemisAnalysisWhile pWhile) {
        /* process the container */
<span class="nc" id="L695">        processContainer(pOwner, pWhile);</span>

        /* Adjust the owner stats */
<span class="nc" id="L698">        adjustLinesOfCode(pOwner, pWhile.getNumLines());</span>
<span class="nc" id="L699">        adjustNumberOfStatements(pOwner, 1);</span>
<span class="nc" id="L700">    }</span>

    /**
     * adjust lines of Code.
     * @param pOwner the owner
     * @param pCount the line count
     */
    private static void adjustLinesOfCode(final ThemisStatsBase pOwner,
                                          final int pCount) {
        /* Adjust the stats */
<span class="nc" id="L710">        pOwner.adjustStat(ThemisStat.LOC, pCount);</span>
<span class="nc" id="L711">        pOwner.adjustStat(ThemisStat.LLOC, pCount);</span>
<span class="nc" id="L712">    }</span>

    /**
     * adjust number of statements.
     * @param pOwner the owner
     * @param pCount the statement count
     */
    private static void adjustNumberOfStatements(final ThemisStatsBase pOwner,
                                                 final int pCount) {
        /* Adjust the stats */
<span class="nc" id="L722">        pOwner.adjustStat(ThemisStat.NOS, pCount);</span>
<span class="nc" id="L723">    }</span>

    /**
     * adjust number of attributes.
     * @param pOwner the owner
     * @param pCount the attribute count
     */
    private static void adjustNumberOfAttributes(final ThemisStatsBase pOwner,
                                                 final int pCount) {
        /* Adjust the stats */
<span class="nc" id="L733">        pOwner.adjustStat(ThemisStat.NA, pCount);</span>
<span class="nc" id="L734">        adjustNumberOfStatements(pOwner, pCount);</span>
<span class="nc" id="L735">    }</span>

    /**
     * adjust cached items.
     * @param pElement the item
     */
    private void adjustCachedItems(final ThemisAnalysisElement pElement) {
        /* Adjust for Annotation */
<span class="nc bnc" id="L743" title="All 2 branches missed.">        if (pElement instanceof ThemisAnalysisAnnotation myAnnotation) {</span>
<span class="nc" id="L744">            theCachedAnnotation = myAnnotation;</span>

        /* Adjust for documentation comment */
<span class="nc bnc" id="L747" title="All 2 branches missed.">        } else if (pElement instanceof ThemisAnalysisComment myComment</span>
<span class="nc bnc" id="L748" title="All 2 branches missed.">                    &amp;&amp; myComment.isJavaDoc()) {</span>
<span class="nc" id="L749">            theCachedDocComment = myComment;</span>
<span class="nc" id="L750">            theCachedAnnotation = null;</span>

            /* else reset cache */
        } else {
<span class="nc" id="L754">            resetCache();</span>
        }
<span class="nc" id="L756">    }</span>

    /**
     * process cached items.
     * @param pParent the parent
     * @param pOwner the stats owner
     */
    private void processCachedItems(final ThemisStatsBase pParent,
                                    final ThemisStatsBase pOwner) {
        /* If we have an annotation */
<span class="nc bnc" id="L766" title="All 2 branches missed.">        if (theCachedAnnotation != null) {</span>
            /* transfer stats from parent */
<span class="nc" id="L768">            processAnnotation(pParent, theCachedAnnotation, false);</span>
<span class="nc" id="L769">            processAnnotation(pOwner, theCachedAnnotation, true);</span>
        }

        /* If we have a documentation comment */
<span class="nc bnc" id="L773" title="All 2 branches missed.">        if (theCachedDocComment != null) {</span>
            /* transfer stats from parent */
<span class="nc" id="L775">            processComment(pParent, theCachedDocComment, false);</span>
<span class="nc" id="L776">            processComment(pOwner, theCachedDocComment, true);</span>
        }

        /* reset cache */
<span class="nc" id="L780">        resetCache();</span>
<span class="nc" id="L781">    }</span>

    /**
     * resetCache.
     */
    private void resetCache() {
<span class="nc" id="L787">        theCachedDocComment = null;</span>
<span class="nc" id="L788">        theCachedAnnotation = null;</span>
<span class="nc" id="L789">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.14.202510111229</span></div></body></html>